(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{1030:function(e,t,i){Promise.resolve().then(i.bind(i,3176))},3176:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return C}});var r=i(9268),n=i(6006),a=i(6887),l=i(7999),s=i(2095),o=i(9153),d=i(4860),c=i(6858),h=i(1471),x=i(2835),p=i(57),m=i(6529),u=i(3613),v=i(2832),g=i(1033),j=i(947),b=(0,j.Z)((0,r.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),f=(0,j.Z)((0,r.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard");function Z(e){let{amount:t,onSuccess:i,onError:a}=e,[l,o]=n.useState(""),[h,x]=n.useState(""),[m,u]=n.useState(""),[v,g]=n.useState(""),[j,Z]=n.useState(!1),y=async e=>{e.preventDefault(),Z(!0);try{setTimeout(()=>{i(),Z(!1)},1500)}catch(e){a("Payment processing failed. Please try again."),Z(!1),console.error(e)}};return(0,r.jsxs)(c.Z,{component:"form",onSubmit:y,sx:{mt:2},children:[(0,r.jsxs)(s.Z,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(b,{sx:{mr:1}})," Secure Payment"]}),(0,r.jsx)(s.Z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Your payment information is encrypted and secure."}),(0,r.jsx)(c.Z,{sx:{mb:2},children:(0,r.jsxs)(s.Z,{variant:"subtitle2",gutterBottom:!0,children:["Amount: $",t.toFixed(2)]})}),(0,r.jsx)(d.Z,{label:"Cardholder Name",fullWidth:!0,margin:"normal",required:!0,value:v,onChange:e=>g(e.target.value)}),(0,r.jsx)(d.Z,{label:"Card Number",fullWidth:!0,margin:"normal",required:!0,value:l,onChange:e=>{let t=e.target.value,i=t.replace(/[^0-9]/g,"").slice(0,16).replace(/(.{4})/g,"$1 ").trim();o(i)},InputProps:{startAdornment:(0,r.jsx)(f,{sx:{mr:1,color:"text.secondary"}})},placeholder:"1234 5678 9012 3456"}),(0,r.jsxs)(c.Z,{sx:{display:"flex",gap:2,mb:2},children:[(0,r.jsx)(d.Z,{label:"Expiry Date",margin:"normal",required:!0,value:h,onChange:e=>{let t=e.target.value,i=t.replace(/[^0-9]/g,"").slice(0,4).replace(/^([0-9]{2})([0-9]{0,2})/,(e,t,i)=>i?"".concat(t,"/").concat(i):t);x(i)},placeholder:"MM/YY",sx:{width:"50%"}}),(0,r.jsx)(d.Z,{label:"CVC",margin:"normal",required:!0,value:m,onChange:e=>u(e.target.value.replace(/[^0-9]/g,"").slice(0,3)),placeholder:"123",sx:{width:"50%"}})]}),(0,r.jsx)(p.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:j,sx:{mt:2},children:j?"Processing...":"Pay $".concat(t.toFixed(2))})]})}let y=["Service Details","Select Date & Time","Payment"],w=e=>(0,r.jsx)(a.Z,{...e});function C(e){let{params:t}=e,[i,a]=(0,n.useState)(0),[j,b]=(0,n.useState)({date:null,startTime:null,endTime:null,location:"",notes:"",paymentMethod:"credit_card"}),[f,C]=(0,n.useState)(!1),[S,L]=(0,n.useState)(""),[P,k]=(0,n.useState)(!1),[T,N]=(0,n.useState)(null),[A,D]=(0,n.useState)(null);n.useEffect(()=>{let e=async()=>{try{let e={id:t.id,title:"Professional Lawn Care Service",description:"Complete lawn maintenance including mowing, edging, and cleanup.",price:75,duration:60,providerId:"provider123",category:"Lawn & Garden",images:["https://example.com/lawn1.jpg"],rating:4.8,reviewCount:24};N(e),D({id:"provider123",businessName:"Green Thumb Landscaping",businessPhone:"(704) 555-1234",businessEmail:"contact@greenthumb.com",address:"123 Main St",city:"Cornelius",state:"NC",zipCode:"28031",profileImage:"https://example.com/provider.jpg",rating:4.9,reviewCount:87,verificationLevel:"premium"})}catch(e){L("Failed to load service details"),console.error(e)}};e()},[t.id]);let B=(e,t)=>{b({...j,[e]:t})},W=async()=>{C(!0),L("");try{setTimeout(()=>{k(!0),C(!1)},1500)}catch(e){L("Failed to create booking. Please try again."),C(!1),console.error(e)}};return P?(0,r.jsx)(x.Z,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,r.jsxs)(l.Z,{elevation:3,sx:{p:4,textAlign:"center"},children:[(0,r.jsx)(s.Z,{variant:"h4",gutterBottom:!0,color:"primary",children:"Booking Confirmed!"}),(0,r.jsx)(s.Z,{variant:"body1",paragraph:!0,children:"Your booking has been successfully created. You will receive a confirmation email shortly."}),(0,r.jsxs)(s.Z,{variant:"body1",paragraph:!0,children:["Booking details:",(0,r.jsx)("br",{}),"Service: ",null==T?void 0:T.title,(0,r.jsx)("br",{}),"Provider: ",null==A?void 0:A.businessName,(0,r.jsx)("br",{}),"Date: ",j.date||"Not selected",(0,r.jsx)("br",{}),"Time: ",j.startTime||"Not selected"]}),(0,r.jsx)(p.Z,{variant:"contained",color:"primary",href:"/dashboard",children:"Go to Dashboard"})]})}):(0,r.jsx)(x.Z,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,r.jsxs)(l.Z,{elevation:3,sx:{p:3},children:[(0,r.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:"Book a Service"}),(0,r.jsx)(m.Z,{activeStep:i,sx:{pt:3,pb:5},children:y.map(e=>(0,r.jsx)(u.Z,{children:(0,r.jsx)(v.Z,{children:e})},e))}),S&&(0,r.jsx)(g.Z,{severity:"error",sx:{mb:3},children:S}),(e=>{switch(e){case 0:return(0,r.jsx)(l.Z,{elevation:3,sx:{p:3,mb:3},children:T&&A?(0,r.jsxs)(w,{container:!0,spacing:3,children:[(0,r.jsxs)(w,{item:!0,xs:12,children:[(0,r.jsx)(s.Z,{variant:"h5",children:T.title}),(0,r.jsxs)(s.Z,{variant:"subtitle1",color:"text.secondary",children:["Provided by ",A.businessName]})]}),(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{})}),(0,r.jsxs)(w,{item:!0,xs:12,sm:6,children:[(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,r.jsx)("strong",{children:"Price:"})," $",T.price.toFixed(2)]}),(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,r.jsx)("strong",{children:"Duration:"})," ",T.duration," minutes"]}),(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,r.jsx)("strong",{children:"Category:"})," ",T.category]})]}),(0,r.jsxs)(w,{item:!0,xs:12,sm:6,children:[(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,r.jsx)("strong",{children:"Provider Rating:"})," ",A.rating," (",A.reviewCount," reviews)"]}),(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,r.jsx)("strong",{children:"Location:"})," ",A.city,", ",A.state]}),(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,r.jsx)("strong",{children:"Verification:"})," ",A.verificationLevel.charAt(0).toUpperCase()+A.verificationLevel.slice(1)]})]}),(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{})}),(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{variant:"body1",children:T.description})})]}):(0,r.jsx)(s.Z,{children:"Loading service details..."})});case 1:return(0,r.jsx)(l.Z,{elevation:3,sx:{p:3,mb:3},children:(0,r.jsxs)(w,{container:!0,spacing:3,children:[(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{variant:"h6",gutterBottom:!0,children:"Select Date and Time"})}),(0,r.jsx)(w,{item:!0,xs:12,sm:6,children:(0,r.jsx)(d.Z,{label:"Date",type:"date",fullWidth:!0,required:!0,InputLabelProps:{shrink:!0},onChange:e=>B("date",e.target.value)})}),(0,r.jsx)(w,{item:!0,xs:12,sm:6,children:(0,r.jsx)(d.Z,{label:"Start Time",type:"time",fullWidth:!0,required:!0,InputLabelProps:{shrink:!0},onChange:e=>B("startTime",e.target.value)})}),(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsx)(d.Z,{label:"Service Location",fullWidth:!0,required:!0,value:j.location,onChange:e=>B("location",e.target.value),placeholder:"Enter the address where service will be performed"})}),(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsx)(d.Z,{label:"Additional Notes",fullWidth:!0,multiline:!0,rows:4,value:j.notes,onChange:e=>B("notes",e.target.value),placeholder:"Any special instructions or details the provider should know"})})]})});case 2:return(0,r.jsx)(l.Z,{elevation:3,sx:{p:3,mb:3},children:(0,r.jsxs)(w,{container:!0,spacing:3,children:[(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{variant:"h6",gutterBottom:!0,children:"Payment Details"})}),(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{sx:{mb:2},children:[(0,r.jsx)(s.Z,{variant:"subtitle1",children:"Booking Summary"}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("strong",{children:"Service:"})," ",null==T?void 0:T.title]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("strong",{children:"Provider:"})," ",null==A?void 0:A.businessName]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("strong",{children:"Date:"})," ",j.date||"Not selected"]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("strong",{children:"Time:"})," ",j.startTime||"Not selected"]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("strong",{children:"Location:"})," ",j.location]})]})}),(0,r.jsxs)(w,{item:!0,xs:12,children:[(0,r.jsx)(o.Z,{sx:{mb:2}}),(0,r.jsxs)(s.Z,{variant:"h6",children:["Total: $",null==T?void 0:T.price.toFixed(2)]}),(0,r.jsx)(o.Z,{sx:{mt:2,mb:2}})]}),(0,r.jsx)(w,{item:!0,xs:12,children:(0,r.jsxs)(h.Z,{component:"fieldset",children:[(0,r.jsx)(s.Z,{variant:"subtitle1",children:"Payment Method"}),(0,r.jsx)(Z,{amount:(null==T?void 0:T.price)||0,onSuccess:()=>k(!0),onError:e=>L(e)})]})})]})});default:return null}})(i),(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[0!==i&&(0,r.jsx)(p.Z,{onClick:()=>{a(e=>e-1)},sx:{mt:3,ml:1},disabled:f,children:"Back"}),i===y.length-1?(0,r.jsx)(p.Z,{variant:"contained",onClick:W,sx:{mt:3,ml:1},disabled:f,children:f?"Processing...":"Confirm Booking"}):(0,r.jsx)(p.Z,{variant:"contained",onClick:()=>{a(e=>e+1)},sx:{mt:3,ml:1},children:"Next"})]})]})})}},9153:function(e,t,i){"use strict";var r=i(6006),n=i(3831),a=i(5115),l=i(2947),s=i(9261),o=i(2744),d=i(1365),c=i(4610),h=i(9268);let x=e=>{let{absolute:t,children:i,classes:r,flexItem:n,light:l,orientation:s,textAlign:o,variant:d}=e;return(0,a.Z)({root:["root",t&&"absolute",d,l&&"light","vertical"===s&&"vertical",n&&"flexItem",i&&"withChildren",i&&"vertical"===s&&"withChildrenVertical","right"===o&&"vertical"!==s&&"textAlignRight","left"===o&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},c.V,r)},p=(0,s.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,"vertical"===i.orientation&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&"vertical"===i.orientation&&t.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignLeft]}})((0,o.Z)(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,l.Fq)(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),m=(0,s.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.wrapper,"vertical"===i.orientation&&t.wrapperVertical]}})((0,o.Z)(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),u=r.forwardRef(function(e,t){let i=(0,d.i)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:a,className:l,orientation:s="horizontal",component:o=a||"vertical"===s?"div":"hr",flexItem:c=!1,light:u=!1,role:v="hr"!==o?"separator":void 0,textAlign:g="center",variant:j="fullWidth",...b}=i,f={...i,absolute:r,component:o,flexItem:c,light:u,orientation:s,role:v,textAlign:g,variant:j},Z=x(f);return(0,h.jsx)(p,{as:o,className:(0,n.Z)(Z.root,l),role:v,ref:t,ownerState:f,"aria-orientation":"separator"===v&&("hr"!==o||"vertical"===s)?s:void 0,...b,children:a?(0,h.jsx)(m,{className:Z.wrapper,ownerState:f,children:a}):null})});u&&(u.muiSkipListHighlight=!0),t.Z=u},4610:function(e,t,i){"use strict";i.d(t,{V:function(){return a}});var r=i(3029),n=i(3016);function a(e){return(0,n.ZP)("MuiDivider",e)}let l=(0,r.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=l}},function(e){e.O(0,[489,46,860,392,667,488,744],function(){return e(e.s=1030)}),_N_E=e.O()}]);